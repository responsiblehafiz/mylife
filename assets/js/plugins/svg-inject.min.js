!function(e,r){var t,n,i="createElement",o="getElementsByTagName",a="length",f="style",c="title",u="undefined",l="setAttribute",s="getAttribute",v=null,d="__svgInject",p="--inject-",m=RegExp(p+"\\d+","g"),h="LOAD_FAIL",$="SVG_INVALID",y=["src","alt","onload","onerror"],g=r[i]("a"),b=typeof SVGRect!=u,_={useCache:!0,copyAttributes:!0,makeIdsUnique:!0},k={clipPath:["clip-path"],"color-profile":v,cursor:v,filter:v,linearGradient:["fill","stroke"],marker:["marker","marker-end","marker-mid","marker-start"],mask:v,pattern:["fill","stroke"],radialGradient:["fill","stroke"]},x=1;function A(e){return(t=t||new XMLSerializer).serializeToString(e)}function C(e,r){var t,n,i,c,u=p+x++,d=/url\("?#([a-zA-Z][\w:.-]*)"?\)/g,m=e.querySelectorAll("[id]"),h=r?[]:v,$={},y=[],g=!1;if(m[a]){for(i=0;i<m[a];i++)(n=m[i].localName)in k&&($[n]=1);for(n in $)(k[n]||[n]).forEach(function(e){0>y.indexOf(e)&&y.push(e)});y[a]&&y.push(f);var b,_,A,C=e[o]("*"),E=e;for(i=-1;E!=v;){if(E.localName==f)(A=(_=E.textContent)&&_.replace(d,function(e,r){return h&&(h[r]=1),"url(#"+r+u+")"}))!==_&&(E.textContent=A);else if(E.hasAttributes()){for(c=0;c<y[a];c++)b=y[c],(A=(_=E[s](b))&&_.replace(d,function(e,r){return h&&(h[r]=1),"url(#"+r+u+")"}))!==_&&E[l](b,A);["xlink:href","href"].forEach(function(e){var r=E[s](e);/^\s*#/.test(r)&&(r=r.trim(),E[l](e,r+u),h&&(h[r.substring(1)]=1))})}E=C[++i]}for(i=0;i<m[a];i++)t=m[i],h&&!h[t.id]||(t.id+=u,g=!0)}return g}function E(e,t,n,o){if(t){t[l]("data-inject-url",n);var f=e.parentNode;if(f){o.copyAttributes&&function e(t,n){for(var o,f,u,s=t.attributes,v=0;v<s[a];v++)if(f=(o=s[v]).name,-1==y.indexOf(f)){if(u=o.value,f==c){var d,p=n.firstElementChild;p&&p.localName.toLowerCase()==c?d=p:(d=r[i+"NS"]("http://www.w3.org/2000/svg",c),n.insertBefore(d,p)),d.textContent=u}else n[l](f,u)}}(e,t);var u=o.beforeInject,s=u&&u(e,t)||t;f.replaceChild(s,e),e[d]=1,S(e);var v=o.afterInject;v&&v(e,s)}}else L(e,o)}function w(){for(var e={},r=arguments,t=0;t<r[a];t++){var n=r[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}function I(e,t){if(t){var i,f;try{i=(f=e,(n=n||new DOMParser).parseFromString(f,"text/xml"))}catch(c){return v}return i[o]("parsererror")[a]?v:i.documentElement}var u=r.createElement("div");return u.innerHTML=e,u.firstElementChild}function S(e){e.removeAttribute("onload")}function j(e){console.error("SVGInject: "+e)}function N(e,r,t){e[d]=2,t.onFail?t.onFail(e,r):j(r)}function L(e,r){S(e),N(e,$,r)}function T(e,r){S(e),N(e,"SVG_NOT_SUPPORTED",r)}function G(e,r){N(e,h,r)}function O(e){e.onload=v,e.onerror=v}function F(e){j("no img element")}var V=function t(n,c){var l=w(_,void 0),y={};function k(e,r){r=w(l,r);var t=function(t){var n=function(){var e=r.onAllFinish;e&&e(),t&&t()};if(e&&typeof e[a]!=u){var i=0,o=e[a];if(0==o)n();else for(var f=function(){++i==o&&n()},c=0;c<o;c++)j(e[c],r,f)}else j(e,r,n)};return typeof Promise==u?t():new Promise(t)}function j(e,r,t){if(e){var n=e[d];if(n)Array.isArray(n)?n.push(t):t();else{if(O(e),!b)return T(e,r),void t();var i=r.beforeLoad,o=i&&i(e)||e[s]("src");if(!o)return""===o&&G(e,r),void t();var a,f=[];e[d]=f;var c=function(){t(),f.forEach(function(e){e()})},l=(a=o,g.href=a,g.href),_=r.useCache,k=r.makeIdsUnique,w=function(e){_&&(y[l].forEach(function(r){r(e)}),y[l]=e)};if(_){var S,j=function(t){if(t===h)G(e,r);else if(t===$)L(e,r);else{var n,i,o=t[0],a=t[1],f=t[2];k&&(o===v?(o=C(n=I(a,!1),!1),t[0]=o,t[2]=o&&A(n)):o&&(a=(i=f).replace(m,p+x++))),n=n||I(a,!1),E(e,n,l,r)}c()};if(typeof(S=y[l])!=u)return void(S.isCallbackQueue?S.push(j):j(S));(S=[]).isCallbackQueue=!0,y[l]=S}!function e(r,t,n){if(r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState){var e=i.status;200==e?t(i.responseXML,i.responseText.trim()):400<=e?n():0==e&&n()}},i.open("GET",r,!0),i.send()}}(l,function(t,n){var i=t instanceof Document?t.documentElement:I(n,!0),o=r.afterLoad;if(o){var a=o(i,n)||i;if(a){var f="string"==typeof a;n=f?a:A(i),i=f?I(a,!0):a}}if(i instanceof SVGElement){var u=v;if(k&&(u=C(i,!1)),_){var s=u&&A(i);w([u,n,s])}E(e,i,l,r)}else L(e,r),w($);c()},function(){G(e,r),w(h),c()})}}else F()}return b&&function e(t){var n=r[o]("head")[0];if(n){var a=r[i](f);a.type="text/css",a.appendChild(r.createTextNode(t)),n.appendChild(a)}}('img[onload^="'+n+'("]{visibility:hidden;}'),k.setOptions=function(e){l=w(l,e)},k.create=t,k.err=function(e,r){e?2!=e[d]&&(O(e),b?(S(e),G(e,l)):T(e,l),r&&(S(e),e.src=r)):F()},e[n]=k}("SVGInject");"object"==typeof module&&"object"==typeof module.exports&&(module.exports=V)}(window,document);